var l=Object.defineProperty;var o=(r,t)=>l(r,"name",{value:t,configurable:!0});var c="::slotted(img){cursor:zoom-in}dialog::-webkit-backdrop{cursor:zoom-out}dialog::backdrop{cursor:zoom-out}figure{max-height:100%;grid-template-rows:auto auto;grid-template-columns:auto 1fr auto auto;gap:.5em;margin:0;display:grid}form{display:contents}[part*=close]{grid-column:1/2}img{width:auto;max-height:calc(90vh - 3em);grid-area:1/1/auto/5}[part*=control]{grid-row:2}[part*=previous]{grid-column:3/4}[part*=next]{grid-column:4/5}figcaption{text-align:center;grid-area:2/2/auto/3}",u='<slot></slot><dialog part=dialog><figure><form method=dialog><button part=close>Close</button></form><img part=image><button part="control previous" type=button>Previous</button><button part="control next" type=button>Next</button><figcaption part=caption><span id=current>0</span> of <span id=total>0</span></figcaption></figure></dialog>',h=Object.defineProperty,d=o((r,t)=>h(r,"name",{value:t,configurable:!0}),"n");const n=new CSSStyleSheet;n.replaceSync(c);const a=document.createElement("template");a.innerHTML=u;class s extends HTMLElement{constructor(){super(),this.e=[],this.s="img",this.i=0;const t=this.attachShadow({mode:"open"});t.adoptedStyleSheets=[n];const i=a.content.cloneNode(!0);t.appendChild(i),t.querySelector("slot").addEventListener("slotchange",this.c.bind(this)),this.r=t.querySelector("dialog"),this.r.addEventListener("click",this.a.bind(this)),this.t=t.querySelector("img"),t.querySelector("[part*=previous]").addEventListener("click",this.h.bind(this)),t.querySelector("[part*=next]").addEventListener("click",this.d.bind(this)),this.n=t.querySelector("#current"),this.o=t.querySelector("#total"),this.addEventListener("click",this.u.bind(this))}static get observedAttributes(){return["selectors"]}get selectors(){return this.s}set selectors(t){t!=null?this.setAttribute("selectors",t.toString()):this.removeAttribute("selectors")}get currentIndex(){return this.i}set currentIndex(t){const i=this.e.length;this.i=(t%i+i)%i;const e=this.e[this.i];this.t.removeAttribute("srcset"),this.t.removeAttribute("src"),this.t.removeAttribute("alt"),e.hasAttribute("srcset")&&this.t.setAttribute("srcset",e.getAttribute("srcset")),e.hasAttribute("src")&&this.t.setAttribute("src",e.getAttribute("src")),e.hasAttribute("alt")&&this.t.setAttribute("alt",e.getAttribute("alt")),this.n.innerText=(this.i+1).toString()}attributeChangedCallback(t,i,e){t==="selectors"&&(this.s=e??"img"),this.l()}c(t){this.l()}u(t){const i=[].findIndex.call(this.e,e=>e===t.target);i!==-1&&(t.preventDefault(),this.r.showModal(),this.currentIndex=i)}h(t){this.currentIndex--}d(t){this.currentIndex++}a(t){const i=t.target;if(i.tagName!=="DIALOG")return;const e=i.getBoundingClientRect();e.top<=t.clientY&&t.clientY<=e.top+e.height&&e.left<=t.clientX&&t.clientX<=e.left+e.width||i.close()}l(){this.e=Array.from(this.querySelectorAll(this.s)),this.o.innerText=this.e.length.toString()}}o(s,"c"),d(s,"ImgLightboxElement"),window.customElements.get("img-lightbox")===void 0&&window.customElements.define("img-lightbox",s);export{s as default};
//# sourceMappingURL=index.js.map
