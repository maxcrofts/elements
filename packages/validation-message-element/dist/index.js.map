{"version":3,"file":"index.js","sources":["../src/ValidationMessageElement.ts","../src/index.ts"],"sourcesContent":["type SubmittableElement =\n\t| HTMLButtonElement\n\t| HTMLInputElement\n\t| HTMLOutputElement\n\t| HTMLSelectElement\n\t| HTMLTextAreaElement;\n\nexport default class ValidationMessageElement extends HTMLElement {\n\t/**\n\t * @internal\n\t */\n\tprivate _control?: SubmittableElement;\n\n\t/**\n\t * @internal\n\t */\n\tprivate _event: string = \"invalid\";\n\n\t/**\n\t * @internal\n\t */\n\tprivate readonly _handleEvent = (_: Event): void => {\n\t\tthis.innerText = this._control?.validationMessage ?? \"\";\n\t};\n\n\tstatic get observedAttributes(): string[] {\n\t\treturn [\"for\", \"event\"];\n\t}\n\n\tget htmlFor(): string | undefined {\n\t\treturn this._control?.id;\n\t}\n\n\tset htmlFor(value: any) {\n\t\tif (value != null) {\n\t\t\tthis.setAttribute(\"for\", value.toString());\n\t\t} else {\n\t\t\tthis.removeAttribute(\"for\");\n\t\t}\n\t}\n\n\tget event(): string | undefined {\n\t\treturn this._event;\n\t}\n\n\tset event(value: any) {\n\t\tif (value != null) {\n\t\t\tthis.setAttribute(\"event\", value.toString());\n\t\t} else {\n\t\t\tthis.removeAttribute(\"event\");\n\t\t}\n\t}\n\n\tattributeChangedCallback(\n\t\tname: string,\n\t\t_oldValue: string | undefined,\n\t\tnewValue: string | undefined,\n\t): void {\n\t\tthis._control?.removeEventListener(this._event, this._handleEvent);\n\n\t\tswitch (name) {\n\t\t\tcase \"for\":\n\t\t\t\tif (newValue != null) {\n\t\t\t\t\tconst element = document.getElementById(newValue);\n\t\t\t\t\tif (element != null && \"validity\" in element) {\n\t\t\t\t\t\tthis._control = document.getElementById(\n\t\t\t\t\t\t\tnewValue,\n\t\t\t\t\t\t) as SubmittableElement;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"event\":\n\t\t\t\tthis._event = newValue ?? \"invalid\";\n\t\t}\n\n\t\tthis._control?.addEventListener(this._event, this._handleEvent);\n\t}\n}\n","import ValidationMessageElement from \"./ValidationMessageElement\";\n\nexport default ValidationMessageElement;\n\ndeclare global {\n\tinterface Window {\n\t\tValidationMessageElement: typeof ValidationMessageElement;\n\t}\n\n\tinterface HTMLElementTagNameMap {\n\t\t\"validation-message\": ValidationMessageElement;\n\t}\n}\n\nif (window.customElements.get(\"validation-message\") === undefined) {\n\twindow.customElements.define(\n\t\t\"validation-message\",\n\t\tValidationMessageElement,\n\t);\n\twindow.ValidationMessageElement = ValidationMessageElement;\n}\n"],"names":["a","m","__name","s","ValidationMessageElement","_event","_handleEvent","_","_a","_b","_control","value","name","_oldValue","newValue","element"],"mappings":"+EAOA,IAAAA,EAAA,OAAA,eAAAC,EAAAC,EAAA,CAAA,EAAAC,IAAAH,EAAA,EAAA,OAAA,CAAA,MAAAG,EAAA,aAAA,EAAA,CAAA,EAAA,KAAA,MAAqBC,UAAiC,WAAY,CAAlE,aASC,CAAA,MAAA,GAAA,SAAA,EAAA,KAAQC,EAAiB,UAKzB,KAAiBC,EAAgBC,GAAmB,CArBrD,IAAAC,EAAAC,EAsBE,KAAK,WAAYA,GAAAD,EAAA,KAAKE,IAAL,YAAAF,EAAe,oBAAf,KAAAC,EAAoC,EACtD,CAEA,CAAA,WAAW,oBAA+B,CACzC,MAAO,CAAC,MAAO,OAAO,CACvB,CAEA,IAAI,SAA8B,CA7BnC,IAAAD,EA8BE,OAAOA,EAAA,KAAKE,IAAL,YAAAF,EAAe,EACvB,CAEA,IAAI,QAAQG,EAAY,CACnBA,GAAS,KACZ,KAAK,aAAa,MAAOA,EAAM,SAAU,CAAA,EAEzC,KAAK,gBAAgB,KAAK,CAE5B,CAEA,IAAI,OAA4B,CAC/B,OAAO,KAAKN,CACb,CAEA,IAAI,MAAMM,EAAY,CACjBA,GAAS,KACZ,KAAK,aAAa,QAASA,EAAM,UAAU,EAE3C,KAAK,gBAAgB,OAAO,CAE9B,CAEA,yBACCC,EACAC,EACAC,EACO,CAzDT,IAAAN,EAAAC,EA4DE,QAFAD,EAAA,KAAKE,IAAL,MAAAF,EAAe,oBAAoB,KAAKH,EAAQ,KAAKC,CAAAA,EAE7CM,EACP,CAAA,IAAK,MACJ,GAAIE,GAAY,KAAM,CACrB,MAAMC,EAAU,SAAS,eAAeD,CAAQ,EAC5CC,GAAW,MAAQ,aAAcA,IACpC,KAAKL,EAAW,SAAS,eACxBI,CACD,EAEF,CACA,MAED,IAAK,QACJ,KAAKT,EAASS,GAAY,SAC5B,EAEAL,EAAA,KAAKC,IAAL,MAAAD,EAAe,iBAAiB,KAAKJ,EAAQ,KAAKC,EACnD,CACD,CAvEqBF,EAAAA,EAAAA,KAAAF,EAAAE,EAAA,0BAAA,ECOjB,OAAO,eAAe,IAAI,oBAAoB,IAAM,SACvD,OAAO,eAAe,OACrB,qBACAA,CACD,EACA,OAAO,yBAA2BA"}