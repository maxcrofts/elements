var u=Object.defineProperty;var d=(o,t)=>u(o,"name",{value:t,configurable:!0});var m=Object.defineProperty,l=d((o,t)=>m(o,"name",{value:t,configurable:!0}),"d");function g(o){}d(g,"g"),l(g,"assert");class c extends HTMLElement{constructor(){super(),this.n=0,this.i=[],this.e=[],this.s=Promise.resolve();const t=this.attachShadow({mode:"open"});t.innerHTML="<style>::slotted(details){overflow-y:hidden}</style><slot></slot>",t.addEventListener("slotchange",this.d.bind(this)),this.addEventListener("click",this.r.bind(this))}static get observedAttributes(){return["animation-duration"]}get animationDuration(){return this.n}set animationDuration(t){!Number.isNaN(t)||t!==0?this.setAttribute("animation-duration",t.toString()):this.removeAttribute("animation-duration")}get animationFinished(){return this.s}attributeChangedCallback(t,s,e){t==="animation-duration"&&(this.n=e!=null?parseInt(e):0)}d(t){const s=t.target;this.i=[];const e=s.assignedElements(),a=e.length;for(let n=0;n<a;n++){const i=e[n];i instanceof HTMLDetailsElement&&(i.open=i===this.t,delete i.dataset.detailsAccordionAnimating,delete i.dataset.detailsAccordionOpen,this.i.push(i))}const r=this.e.length;for(let n=0;n<r;n++){const i=this.e[n];i!==void 0&&i.cancel()}this.e=new Array(this.i.length)}r(t){const s=t.target;if(s===null||s.tagName!=="SUMMARY")return!0;const e=s.parentElement;return e.parentElement!==this?!0:(t.preventDefault(),e!==this.t?(this.t!==void 0&&(this.a(this.t),delete this.t.dataset.detailsAccordionOpen),this.l(e),this.t=e,this.t.dataset.detailsAccordionOpen=""):this.t!==void 0&&(this.a(this.t),delete this.t.dataset.detailsAccordionOpen,this.t=void 0),!1)}o(t,s){var e;const a=(e=this.i)==null?void 0:e.findIndex(h=>h===t),r=t.offsetHeight;t.open=!0,t.dataset.detailsAccordionAnimating="",this.e[a]!==void 0&&this.e[a].cancel();let n;t.dataset.detailsAccordionOpen===void 0?n=t.getBoundingClientRect().height:n=t.querySelector("summary").offsetHeight,this.e[a]=t.animate({height:[`${r}px`,`${n}px`]},{duration:this.n,easing:"ease-out"});let i=l(()=>{},"animationResolve");this.s=new Promise(h=>{i=h}),this.e[a].onfinish=()=>{s(),i(this.e[a])}}l(t){this.o(t,()=>{delete t.dataset.detailsAccordionAnimating})}a(t){this.o(t,()=>{t.open=!1,delete t.dataset.detailsAccordionAnimating})}}d(c,"c"),l(c,"DetailsAccordionElement"),window.customElements.define("details-accordion",c);
//# sourceMappingURL=index.js.map
